template
  #home-content
    #title
      img(src="https://s3.amazonaws.com/freecodecamp/freecodecamp-logo-icon-square-400-400.png")
      | FreeCodeCamp - Build a&nbsp;
      span Nightlife
      | &nbsp;Restaurant Coordination App

    #search
      #search-title
        h1 Hungry?
        span &nbsp;powered by&nbsp;
        img(src="https://s3-media1.fl.yelpcdn.com/assets/srv0/yelp_design_web/48792dd29811/assets/img/logos_desktop/default.png")
      form#search-form(submit.delegate="handleForm('search-form')")
        input#search-input(type="text" autocomplete="off" placeholder="Type in your location ..." value.bind="state.location")
        button#search-button(type="submit")
          img(src="https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_search_black_24px.svg")
        //- button#search-auto
        //-   img(src="https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_gps_fixed_black_24px.svg")

    #results
      #result-placeholder(if.bind="state.places.length === 0") . . .
      .result(repeat.for="place of state.places")
        .image
          img(src="${place.image_url}")
        .info
          .info-title
            a(href="${place.url}" target="_blank") ${place.name}
            span.price (${place.price})
          .ratings
            img(repeat.for="i of 5" src.bind="setRatings(i, place.rating)")
          .reviews (${place.review_count} review${place.review_count !== 1 ? 's' : ''})
          .rsvp
            button.going-button(class="${state.rsvp.includes(place.id) ? 'has-rsvp' : 'not-rsvp'}" click.delegate="setRSVP(place.id)") ${state.user.going.includes(place.id) ? 'GOING' : 'RSVP'}
          a.map(href.bind="setMap(place.location)" target="_blank")
            img(src="https://storage.googleapis.com/material-icons/external-assets/v4/icons/svg/ic_place_black_24px.svg")
          span.number-going ${state.totalGoing.hasOwnProperty(place.id) ? state.totalGoing[place.id] : 0} Going

    login